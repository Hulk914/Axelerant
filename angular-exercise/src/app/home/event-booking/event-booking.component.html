<div class="container">
  <div *ngIf="!eventService?.selectedEvent?.name" class="alert alert-danger" role="alert">
    Please go back to listing page since currently reload persistence is not handled
  </div>
  <h3 class="d-flex justify-content-center">
    {{eventService?.selectedEvent?.name | uppercase}}
  </h3>
  <span *ngIf="eventService?.selectedEvent?.name" class="d-flex justify-content-center">
    Number of available seats - {{eventService?.selectedEvent?.seats}}
  </span>

  <form [formGroup]="eventForm" (ngSubmit)="onSubmit(eventForm)">
    <div class="form-row">
      <div class="form-group col-md-6">
        <label for="userName">User Name <span class="text-danger">*</span></label>
        <input type="text" class="form-control" id="userName" formControlName="name" placeholder="Enter Name">
        <span class="text-danger" *ngIf="eventForm.get('name').hasError('required') && eventForm.get('name').touched">
          Please enter your name
        </span>
      </div>
      <div class="form-group col-md-6">
        <label for="email">Email</label>
        <input type="email" class="form-control" id="email" formControlName="email" placeholder="Enter Email">
      </div>
      <div class="form-group col-md-6">
        <label for="phone">Phone Number</label>
        <input type="text" class="form-control" id="phone" formControlName="phone" placeholder="Enter Phone Number">
      </div>
      <div class="form-group col-md-6">
        <label for="seats">Seats</label>
        <select id="seats" class="form-control" formControlName="seats">
          <option *ngFor="let seat of [1,2,3,4,5,6]" [ngValue]="seat">
            {{seat}}
          </option>
        </select>
      </div>
    </div>
    <div class="form-row" formArrayName="extraAttendees">
      <div class="form-group col-md-6" *ngFor="let arrayItem of extraAttendees.controls; let i=index" [formGroupName]='i'>
        <label for="others+i">Other {{i+1}}</label>
        <input type="text" class="form-control" [id]="others+i" formControlName="others" placeholder="Enter Name">
      </div>
    </div>
    <button type="submit" class="btn btn-primary">Sign in</button>
  </form>
</div>
